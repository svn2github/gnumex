<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
  <head>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" >
    <meta http-equiv="content-type" content="text/html; charset=us-ascii" >
    <meta name="date" content="2013-11-09 01:12:12 -0600" >
    <meta name="author" content="Jason Nicholson" >
    <meta name="description" content="Compile matlab mex files with gcc on Windows Platforms" >
    <meta name="keywords" content="Gnumex" lang="en" >
    <title>Gnumex - Optimization</title>
    <link rel="stylesheet" type="text/css" href="gnumex.css" >
  </head>
  <body>
<script src="menu.js" type="text/javascript"></script>
    <div id="content">
      <h3>Optimizing gcc compilation for mex files</h3>
      <p>(With many thanks to Alberto Martinez). There are a large number of different flags which can be used with gcc to optimize
      code for speed; these are described in the 
      <a href="http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html">gcc documentation</a>. The optimization options specified
      by default in the gnumex package are the following: -O3, which is relatively benign. However, you may well get considerably
      greater speed improvements by adding the following flags to your Mex options file manually: -ffast-math.&nbsp; This option
      sacrifices some input checking for faster floating point maths. However, to quote from the gcc documenatation: &quot;This
      option allows GCC to violate some ANSI or IEEE rules and/or specifications in the interest of optimizing code for speed. For
      example, it allows the compiler to assume arguments to the sqrt function are non-negative numbers and that no floating-point
      values are NaNs (Not-A-Number). This option should never be turned on by any `-O&#39; option since it can result in incorrect
      output for programs which depend on an exact implementation of IEEE or ANSI rules/specifications for math
      functions.&quot;</p>
      <p>Note also that you may get major gains in speed from optimizing for a particular processor.&nbsp; See 
      <a href="http://gcc.gnu.org/onlinedocs/gcc/i386-and-x86-64-Windows-Options.html#i386-and-x86-64-Windows-Options">Intel 386 and AMD
      x86-64 Options</a>.</p>
      <div id="sf_logo">
        <a href="http://sourceforge.net/">
          <img src="http://sourceforge.net/sflogo.php?group_id=2888&amp;type=1" style="border: 0pt none ;"
          alt="SourceForge.net Logo" height="31" width="88" >
        </a>
        <p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01 Strict" height="31" width="88"></a>
  </p>
      </div>
    </div>
  </body>
</html>
